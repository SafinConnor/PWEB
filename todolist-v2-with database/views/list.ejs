<%- include("header") -%>

<!-- 
  Ideally, apply these classes to your <body> tag:
  class="bg-gradient-to-br from-slate-900 to-slate-800 min-h-screen flex flex-col items-center justify-start py-8 sm:py-12 px-4 font-sans text-slate-100"
  If not possible, this wrapper div will achieve a similar effect for the content below.
-->
<div class="bg-gradient-to-br from-slate-900 to-slate-800 min-h-screen flex flex-col items-center justify-start py-8 sm:py-12 px-4 font-sans text-slate-100">

  <main class="w-full max-w-2xl mx-auto">

    <div class="bg-white/5 backdrop-blur-xl shadow-2xl rounded-2xl p-6 md:p-10 transform transition-all duration-500 hover:scale-[1.02]" id="heading">
      <h1 class="text-4xl sm:text-5xl md:text-6xl font-extrabold text-center text-transparent bg-clip-text bg-gradient-to-r from-fuchsia-400 via-pink-500 to-orange-500 mb-6 sm:mb-8 tracking-tight">
        <%= listTitle %>
      </h1>
    </div>

    <div class="bg-white/5 backdrop-blur-xl shadow-2xl rounded-2xl p-6 md:p-8 mt-8 sm:mt-10 transform transition-all duration-500 hover:scale-[1.02]">
      <% if (newListItems.length === 0) { %>
        <p class="text-slate-400 text-center py-8 text-lg">
          âœ¨ Your list is sparkling clean! Add a new task below. âœ¨
        </p>
      <% } else { %>
        <% newListItems.forEach(function(newListItem, index){ %>
        <form action="/delete" method="post" class="group">
          <div class="item flex items-center justify-between py-4 sm:py-5 border-b border-slate-700/70 last:border-b-0 transition-all duration-300 ease-in-out hover:bg-slate-700/30 -mx-6 px-6 md:-mx-8 md:px-8">
            <div class="flex items-center">
              <input
                type="checkbox"
                name="checkbox"
                value="<%=newListItem._id%>"
                onChange="this.form.submit()"
                id="item-<%= index %>-checkbox"
                class="h-6 w-6 sm:h-7 sm:w-7 appearance-none border-2 border-pink-400 rounded-md checked:bg-gradient-to-r checked:from-fuchsia-500 checked:to-pink-500 checked:border-transparent focus:outline-none focus:ring-2 focus:ring-pink-400 focus:ring-offset-2 focus:ring-offset-slate-800 transition-all duration-200 cursor-pointer mr-3 sm:mr-4 shadow-sm"
              />
              <label for="item-<%= index %>-checkbox" class="text-lg sm:text-xl text-slate-200 group-hover:text-transparent group-hover:bg-clip-text group-hover:bg-gradient-to-r group-hover:from-fuchsia-400 group-hover:to-pink-400 transition-all duration-300 cursor-pointer">
                <%= newListItem.name %>
              </label>
            </div>
            <!-- Optional: A more visible delete button can be added here if desired -->
            <!-- <button type="submit" class="ml-2 opacity-30 group-hover:opacity-100 text-red-400 hover:text-red-300 transition-opacity duration-300">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" /></svg>
            </button> -->
          </div>
          <input type="hidden" name="listName" value="<%= listTitle%>"></input>
        </form>
        <% }) %>
      <% } %>

      <form class="item mt-8 sm:mt-10 flex gap-2 sm:gap-3" action="/" method="post">
        <input
          type="text"
          name="newItem"
          placeholder="Unleash a new idea..."
          autocomplete="off"
          class="flex-grow bg-slate-800/70 border-2 border-slate-700 text-slate-100 placeholder-slate-500 text-base sm:text-lg rounded-xl focus:ring-2 focus:ring-fuchsia-500 focus:border-fuchsia-500 outline-none py-3 px-4 sm:py-3.5 sm:px-5 transition-all duration-200 shadow-lg focus:shadow-[0_0_15px_rgba(217,70,239,0.5)]"
        />
        <button
          type="submit"
          name="list"
          value="<%=listTitle%>"
          class="bg-gradient-to-br from-fuchsia-500 via-pink-500 to-orange-400 hover:from-fuchsia-600 hover:via-pink-600 hover:to-orange-500 text-white font-bold text-2xl sm:text-3xl py-3 px-5 sm:px-6 rounded-xl shadow-xl hover:shadow-2xl focus:shadow-[0_0_20px_rgba(217,70,239,0.6)] transform hover:scale-105 active:scale-95 transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-pink-300 focus:ring-offset-2 focus:ring-offset-slate-900"
        >
          ðŸš€
        </button>
      </form>
    </div>

  </main>

  <footer class="mt-12 text-center">
    <p class="text-sm text-slate-500">Crafted with <span class="text-pink-400">â™¥</span> by Tailwind CSS</p>
  </footer>

</div> <!-- End of outer wrapper div -->

<%- include("footer") -%>